{
    "dataRoles": [
    {
        "name": "latitude",
        "kind": "GroupingOrMeasure",
        "displayName": "Latitude",
        "description": "Latitude geographic point from data"
    },
    {
        "name": "longitude",
        "kind": "GroupingOrMeasure",
        "displayName": "Longitude",
        "description": "Longitude geographic point from data"
    },
    {
        "name": "category",
        "kind": "GroupingOrMeasure",
        "displayName": "Color",
        "description": "Categorical or numerical measure value to color map long/lat points by"
    },
    {
        "name": "size",
        "kind": "GroupingOrMeasure",
        "displayName": "Size",
        "description": "Categorical or numerical measure value to size map long/lat points by"
    }],
    "dataViewMappings": [
    {
        "table":
        {
            "rows":
            {
                "dataReductionAlgorithm":
                {
                    "top":
                    {
                        "count": 300000
                    }
                },
                "select": [
                {
                    "for":
                    {
                        "in": "size"
                    }
                },
                {
                    "for":
                    {
                        "in": "category"
                    }
                },
                {
                    "for":
                    {
                        "in": "latitude"
                    }
                },
                {
                    "for":
                    {
                        "in": "longitude"
                    }
                }]
            }
        }
    }],
    "objects": {
        "api": {
          "displayName": "MapBox API",
          "displayNameKey": "mapbox_api",
            "description": "Display MapBox API Settings",
            "properties": {
                "accessToken": {
                  "displayName": "Access Token",
                  "displayNameKey": "access_token",
                    "description": "Public Access Token from https://www.mapbox.com/studio/account/tokens/",
                    "type": {
                        "text": true
                    },
                    "suppressFormatPainterCopy": true
                },
            "style": {
                  "type": {
                      "enumeration": [
                          { "value": "custom",
                            "displayName": "Custom...",
                            "displayNameKey": "custom"
                          },
                          {
                            "value": "mapbox://styles/mapbox/streets-v10",
                            "displayName": "Streets",
                            "displayNameKey": "streets_v10"
                          },
                          {
                            "value": "mapbox://styles/mapbox/outdoors-v10",
                            "displayName": "Outdoors",
                            "displayNameKey": "outdoors_v10"
                          },
                        {
                          "value": "mapbox://styles/mapbox/light-v9",
                          "displayName": "Light",
                          "displayNameKey": "light_v9"
                        },
                        {
                          "value": "mapbox://styles/mapbox/dark-v9",
                          "displayName": "Dark",
                          "displayNameKey": "dark_v9"
                          },
                        {
                          "value": "mapbox://styles/mapbox/satellite-v9",
                          "displayName": "Satellite",
                          "displayNameKey": "satellite_v9"
                          },
                        {
                          "value": "mapbox://styles/mapbox/satellite-streets-v10",
                          "displayName": "Satellite Streets",
                          "displayNameKey": "statellite_streets_v10"
                          },
                        {
                          "value": "mapbox://styles/mapbox/navigation-preview-day-v2",
                          "displayName": "Navigation Preview Day",
                          "displayNameKey": "navigation_preview_day_v2"
                          },
                        {
                          "value": "mapbox://styles/mapbox/navigation-preview-night-v2",
                          "displayName": "Navigation Preview Night",
                          "displayNameKey": "navigation_preview_night_v2"
                          },
                        {
                          "value": "mapbox://styles/mapbox/navigation-guidance-day-v2",
                          "displayName": "Navigation Guidance Day",
                          "displayNameKey": "navigation_guidance_day_v2"
                          },
                        {
                          "value": "mapbox://styles/mapbox/navigation-guidance-night-v2",
                          "displayName": "Navigation Guidance Night",
                          "displayNameKey": "navigation_guidance_night_v2"
                          }
                      ]
                  },
              "displayName": "Map Style",
              "displayNameKey": "map_style"
              },
                "style_url": {
                  "displayName": "Style URL",
                  "displayNameKey": "style_url",
                    "description": "Mapbox URL for custom style",
                    "type": {
                        "text": true
                    },
                    "suppressFormatPainterCopy": true
                },
            "layerType": {
                  "type": {
                      "enumeration": [
                          {
                            "value": "circle",
                            "displayName": "Circle",
                            "displayNameKey": "circle"
                          },
                          {
                            "value": "heatmap",
                            "displayName": "Heatmap",
                            "displayNameKey": "heatmap"
                          },
                          {
                            "value": "cluster",
                            "displayName": "Cluster",
                            "displayNameKey": "cluster"
                          }
                      ]
                  },
              "displayName": "Layer type",
              "displayNameKey": "layer_type"
              },
            "aggregation": {
                  "type": {
                      "enumeration": [
                          {
                            "value": "count",
                            "displayName": "Count",
                            "displayNameKey": "count"
                          },
                          {
                            "value": "sum",
                            "displayName": "Sum",
                            "displayNameKey": "sum"
                          },
                          {
                            "value": "avg",
                            "displayName": "Average",
                            "displayNameKey": "avg"
                          },
                          {
                            "value": "min",
                            "displayName": "Minimum",
                            "displayNameKey": "min"
                          },
                          {
                            "value": "max",
                            "displayName": "Maximum",
                            "displayNameKey": "max"
                          }
                      ]
                  },
              "displayName": "Aggregation function",
              "displayNameKey": "aggregation"
              }
          }
      }
    }
}
