{
  "dataRoles": [
    {
      "name": "location",
      "kind": "Grouping",
      "displayName": "Location",
      "description": "Location"
    },
    {
      "name": "latitude",
      "kind": "Grouping",
      "displayName": "Latitude",
      "description": "Latitude geographic point from data"
    },
    {
      "name": "longitude",
      "kind": "Grouping",
      "displayName": "Longitude",
      "description": "Longitude geographic point from data"
    },
    {
      "name": "category",
      "kind": "GroupingOrMeasure",
      "displayName": "Color",
      "description": "Categorical or numerical measure value to color map long\/lat points by"
    },
    {
      "name": "size",
      "kind": "GroupingOrMeasure",
      "displayName": "Size",
      "description": "Categorical or numerical measure value to size map long\/lat points by"
    }
  ],
  "dataViewMappings": [
    {
      "table": {
        "rows": {
          "dataReductionAlgorithm": {
            "top": {
              "count": 300000
            }
          },
          "select": [
            {
              "for": {
                "in": "size"
              }
            },
            {
              "for": {
                "in": "category"
              }
            },
            {
              "for": {
                "in": "latitude"
              }
            },
            {
              "for": {
                "in": "longitude"
              }
            },
            {
              "for": {
                "in": "location"
              }
            }
          ]
        }
      }
    }
  ],
  "objects": {
    "api": {
      "displayName": "Global Mapbox Settings",
      "displayNameKey": "mapbox_api",
      "description": "Mapbox GL Visualization Settings",
      "properties": {
        "accessToken": {
          "displayName": "Access Token",
          "displayNameKey": "access_token",
          "description": "Public Access Token from your Mapbox account - get yours at https:\/\/www.mapbox.com\/studio\/account\/tokens\/",
          "type": {
            "text": true
          },
          "suppressFormatPainterCopy": true
        },
        "style": {
          "type": {
            "enumeration": [
              {
                "value": "mapbox:\/\/styles\/mapbox\/dark-v9?optimize=true",
                "displayName": "Dark",
                "displayNameKey": "dark_v9"
              },
                            {
                "value": "mapbox:\/\/styles\/mapbox\/light-v9?optimize=true",
                "displayName": "Light",
                "displayNameKey": "light_v9"
              },
              {
                "value": "mapbox:\/\/styles\/mapbox\/streets-v10?optimize=true",
                "displayName": "Streets",
                "displayNameKey": "streets_v10"
              },
              {
                "value": "mapbox:\/\/styles\/mapbox\/outdoors-v10?optimize=true",
                "displayName": "Outdoors",
                "displayNameKey": "outdoors_v10"
              },
              {
                "value": "mapbox:\/\/styles\/mapbox\/satellite-streets-v10?optimize=true",
                "displayName": "Satellite Streets",
                "displayNameKey": "satellite_streets_v10"
              },
              {
                "value": "mapbox:\/\/styles\/mapbox\/satellite-v9?optimize=true",
                "displayName": "Satellite",
                "displayNameKey": "satellite_v9"
              },
              {
                "value": "mapbox:\/\/styles\/mapbox\/navigation-preview-day-v2?optimize=true",
                "displayName": "Traffic Light",
                "displayNameKey": "navigation_preview_day_v2"
              },
              {
                "value": "mapbox:\/\/styles\/mapbox\/navigation-preview-night-v2?optimize=true",
                "displayName": "Traffic Dark",
                "displayNameKey": "navigation_preview_night_v2"
              },
              {
                "value": "custom",
                "displayName": "Custom...",
                "displayNameKey": "custom"
              }
            ]
          },
          "displayName": "Map Style",
          "displayNameKey": "map_style"
        },
        "styleUrl": {
          "displayName": "Style URL",
          "displayNameKey": "styleUrl",
          "description": "Mapbox URL for custom style",
          "type": {
            "text": true
          },
          "suppressFormatPainterCopy": true
        }
      }
    },
    "cluster": {
      "displayName": "Cluster",
      "displayNameKey": "cluster",
      "description": "Cluster display settings",
      "properties": {
        "show": {
          "displayName": "Cluster",
          "type": { "bool": true }
        },
        "aggregation": {
          "type": {
            "enumeration": [
              {
                "value": "count",
                "displayName": "Count",
                "displayNameKey": "count"
              },
              {
                "value": "sum",
                "displayName": "Sum",
                "displayNameKey": "sum"
              },
              {
                "value": "avg",
                "displayName": "Average",
                "displayNameKey": "avg"
              },
              {
                "value": "min",
                "displayName": "Minimum",
                "displayNameKey": "min"
              },
              {
                "value": "max",
                "displayName": "Maximum",
                "displayNameKey": "max"
              }
            ]
          },
          "displayName": "Aggregation function",
          "displayNameKey": "aggregation"
        },
        "radius": {
          "displayName": "Radius",
          "displayNameKey": "radius",
          "description": "Radius of the smallest cluster circles.",
          "type": {
            "numeric": true
          }
        },
        "clusterRadius": {
          "displayName": "Cluster Radius",
          "displayNameKey": "clusterRadius",
          "description": "Density of clusters in pixels.",
          "type": {
            "numeric": true
          }
        },
        "clusterMaxZoom": {
          "displayName": "Cluster Max Zoom",
          "displayNameKey": "clusterMaxZoom",
          "description": "Maximum zoom level to cluster points.",
          "type": {
            "numeric": true
          }
        },
        "minColor": {
          "displayName": "Min Color",
          "displayNameKey": "minColor",
          "description": "Defines the color for the minimum value of the color field.",
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        },
        "maxColor": {
          "displayName": "Max Color",
          "displayNameKey": "maxColor",
          "description": "Defines the color for the maximum value of the color field.",
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        }
      }
    },
    "heatmap": {
      "displayName": "Heatmap",
      "displayNameKey": "heatmap",
      "description": "Heatmap display settings",
      "properties": {
        "show": {
          "displayName": "Choropleth",
          "type": { "bool": true }
        },
        "radius": {
          "displayName": "Radius",
          "displayNameKey": "radius",
          "description": "Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed.",
          "type": {
            "numeric": true
          }
        },
        "weight": {
          "displayName": "Weight",
          "displayNameKey": "weight",
          "description": "A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.",
          "type": {
            "numeric": true
          }
        },
        "intensity": {
          "displayName": "Intensity",
          "displayNameKey": "intensity",
          "description": "Similar to Weight but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.",
          "type": {
            "numeric": true
          }
        },
        "opacity": {
          "displayName": "Opacity",
          "displayNameKey": "opacity",
          "description": "The global opacity in percentage at which the heatmap layer will be drawn.",
          "type": {
            "numeric": true
          }
        },
        "color": {
          "displayName": "Color",
          "displayNameKey": "color",
          "description": "Defines the color of each pixel based on its density value in a heatmap. ",
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        }
      }
    },
    "circle": {
      "displayName": "Circle",
      "displayNameKey": "circle",
      "description": "Circle display settings",
      "properties": {
        "show": {
          "displayName": "Choropleth",
          "type": { "bool": true }
        },
        "radius": {
          "displayName": "Radius",
          "displayNameKey": "radius",
          "description": "Optional number greater than or equal to 0. Units in pixels. ",
          "type": {
            "numeric": true
          }
        },
        "scaleFactor": {
          "displayName": "Zoom scale factor",
          "displayNameKey": "scaleFactor",
          "description": "The scale factor to use when sizing circles relative to zoom level.",
          "type": {
            "numeric": true
          }
        },
        "blur": {
          "displayName": "Blur",
          "displayNameKey": "blur",
          "description": "Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",
          "type": {
            "numeric": true
          }
        },
        "opacity": {
          "displayName": "Opacity",
          "displayNameKey": "opacity",
          "description": "The global opacity in percentage at which the heatmap layer will be drawn.",
          "type": {
            "numeric": true
          }
        },
        "strokeWidth": {
          "displayName": "Stroke Width",
          "displayNameKey": "strokeWidth",
          "description": "The width of the circle's stroke. Strokes are placed outside of the Circle Radius.",
          "type": {
            "numeric": true
          }
        },
        "strokeOpacity": {
          "displayName": "Stroke Opacity",
          "displayNameKey": "strokeOpacity",
          "description": "The opacity of the circle's stroke.",
          "type": {
            "numeric": true
          }
        },
        "strokeColor": {
          "displayName": "Stroke Color",
          "displayNameKey": "strokeColor",
          "description": "The stroke color of the circle.",
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        },
        "color": {
          "displayName": "Color",
          "displayNameKey": "color",
          "description": "Defines the color of each pixel based on its density value in a heatmap. ",
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        }
      }
    },
    "choropleth": {
      "displayName": "Choropleth",
      "displayNameKey": "choropleth",
      "description": "Choropleth display settings",
      "properties": {
        "show": {
          "displayName": "Choropleth",
          "type": { "bool": true }
        },
        "vectorTileUrl": {
          "type": {
            "text": true
          },
          "displayName": "Vector Tile Url",
          "displayNameKey": "vectorTileUrl",
          "description": "The URL of the vector tileset. Example for US states: mapbox://mapbox.us_census_states_2015"
        },
        "sourceLayer": {
          "type": {
            "text": true
          },
          "displayName": "Source Layer Name",
          "displayNameKey": "sourceLayer",
          "description": "The id of the vector layer to use for data join"
        },
        "vectorProperty": {
          "type": {
            "text": true
          },
          "displayName": "Vector Property",
          "displayNameKey": "vectorProperty",
          "description": "The property name in the vector layer to use for data join"
        },
        "minColor": {
          "displayName": "Min Color",
          "displayNameKey": "minColor",
          "description": "Defines the color for the minimum value of the color field.",
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        },
        "maxColor": {
          "displayName": "Max Color",
          "displayNameKey": "maxColor",
          "description": "Defines the color for the maximum value of the color field.",
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        }
      }
    }
  }
}
